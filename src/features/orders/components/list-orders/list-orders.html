<div>
  <h2 class="text-lg font-bold mb-5">Lista de Ã“rdenes</h2>
  <div class="overflow-x-auto rounded-box border border-base-content/5 bg-base-100">
    <table class="table w-full">
      <thead>
        <tr>
          <th>ID</th>
          <th>Cliente</th>
          <th>Fecha</th>
          <th>Total</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        @for (order of orders | async; track order.id) {
        <tr>
          <td>{{ order.id }}</td>
          <td>
            @if (order.customer?.entity_type === "N") {
            {{ order.customer?.name + " " + order.customer?.last_name }}
            } @else {
            {{ order.customer?.business_name }}
            }
          </td>
          <td>{{ order.created_at | date: "dd/MM/yyyy hh:mm a" }}</td>
          <td>{{ order.final_amount | currency: "S/. " }}</td>
          <td>
            <span class="badge bg-amber-500 inline-block">
              {{ order.status?.name }}
            </span>
          </td>
          <td class="flex items-center gap-2">
            <button (click)="generatePdfWithDetails(order)" class="btn btn-accent btn-sm">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                <path
                  d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1s-1-.44-1-1s.44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4c.94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5a2.5 2.5 0 0 1 2.5-2.5a2.5 2.5 0 0 1 2.5 2.5a2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2" />
              </svg>
            </button>
            <button class="btn btn-warning btn-sm">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="2 -3 24 24">
                <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                  <path stroke-dasharray="48" stroke-dashoffset="48" d="M7 17v-4l10 -10l4 4l-10 10h-4">
                    <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.2s" dur="0.6s" values="48;0" />
                  </path>
                  <path stroke-dasharray="8" stroke-dashoffset="8" d="M14 6l4 4">
                    <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.8s" dur="0.2s" values="8;0" />
                  </path>
                </g>
              </svg>
            </button>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>